(function(){"use strict";var e={129:function(e,t,s){var r=s(963),n=s(252);function a(e,t,s,r,a,o){const u=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(u)])}var o={},u=s(744);const l=(0,u.Z)(o,[["render",a]]);var i=l;const d=e=>((0,n.dD)("data-v-7ab8390b"),e=e(),(0,n.Cn)(),e),m=d((()=>(0,n._)("h2",null,"Please login",-1)));function c(e,t,s,r,a,o){const u=(0,n.up)("v-text-field"),l=(0,n.up)("v-btn"),i=(0,n.up)("v-form"),d=(0,n.up)("v-responsive");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(d,{class:"mx-auto","max-width":"350"},{default:(0,n.w5)((()=>[m,(0,n.Wm)(i,{ref:"form",modelValue:a.valid,"onUpdate:modelValue":t[2]||(t[2]=e=>a.valid=e),"lasy-validation":""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{modelValue:o.username,"onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),counter:20,rules:[e=>!!e||"This field is required"],required:"",type:"input",variant:"outlined",placeholder:"Username",hint:"Enter your username"},null,8,["modelValue","rules"]),(0,n.Wm)(u,{modelValue:o.password,"onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),counter:20,rules:[e=>!!e||"This field is required"],required:"",type:"password",variant:"outlined",placeholder:"Password",hint:"Enter your password"},null,8,["modelValue","rules"]),(0,n.Wm)(l,{onClick:this.LOGIN_USER,rounded:0},{default:(0,n.w5)((()=>[(0,n.Uk)(" Submit ")])),_:1},8,["onClick"])])),_:1},8,["modelValue"])])),_:1})])}var p=s(907),h={data(){return{valid:!0}},computed:{username:{get(){return this.$store.state.loginUsername},set(e){this.$store.commit("UPDATE_LOGIN_USERNAME",e)}},password:{get(){return this.$store.state.loginPassword},set(e){this.$store.commit("UPDATE_LOGIN_PASSWORD",e)}}},methods:{...(0,p.nv)(["LOGIN_USER"])}};const f=(0,u.Z)(h,[["render",c],["__scopeId","data-v-7ab8390b"]]);var v=f,_=s(577);function w(e,t,s,r,a,o){const u=(0,n.up)("v-btn"),l=(0,n.up)("v-switch"),i=(0,n.up)("v-responsive"),d=(0,n.up)("v-text-field"),m=(0,n.up)("v-table");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(u,{onClick:t[0]||(t[0]=e=>this.$router.push("/adduser"))},{default:(0,n.w5)((()=>[(0,n.Uk)("Add User")])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,[(0,n.Wm)(i,{"max-width":"344"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{modelValue:this.sortById,"onUpdate:modelValue":t[1]||(t[1]=e=>this.sortById=e),onChange:o.sortUsers,label:"ID"},null,8,["modelValue","onChange"])])),_:1})]),(0,n._)("th",null,[(0,n.Wm)(i,{"max-width":"344"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{modelValue:this.filterUsername,"onUpdate:modelValue":t[2]||(t[2]=e=>this.filterUsername=e),type:"input",placeholder:"Username",variant:"underlined"},null,8,["modelValue"])])),_:1})]),(0,n._)("th",null,[(0,n.Wm)(i,{"max-width":"344"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{variant:"text",disabled:""},{default:(0,n.w5)((()=>[(0,n.Uk)("Actions")])),_:1})])),_:1})])])]),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.filterUsers,(t=>((0,n.wg)(),(0,n.iD)("tr",{key:t.id},[(0,n._)("td",null,(0,_.zw)(t.id),1),(0,n._)("td",null,(0,_.zw)(t.username),1),(0,n._)("td",null,[(0,n.Wm)(u,{variant:"plain",onClick:s=>e.$router.push(`/userlist/${t.id}`)},{default:(0,n.w5)((()=>[(0,n.Uk)("View profile")])),_:2},1032,["onClick"])])])))),128))])])),_:1})])}var U={data(){return{sortById:!1,filterUsername:""}},computed:{...(0,p.Se)(["USERS"]),filterUsers:function(){const e=this.filterUsername;return this.USERS.filter((function(t){return""===e||t.username.indexOf(e)>-1}))},sortUsers:function(){this.USERS.sort(((e,t)=>this.sortById?t.id-e.id:e.id-t.id))}},mounted(){this.GET_USERS()},methods:{...(0,p.nv)(["GET_USERS"])}};const g=(0,u.Z)(U,[["render",w],["__scopeId","data-v-538f4b74"]]);var S=g;const k=e=>((0,n.dD)("data-v-6ccdfd67"),e=e(),(0,n.Cn)(),e),E=k((()=>(0,n._)("h1",null,"User not found",-1)));function y(e,t,s,r,a,o){const u=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",null,[E,(0,n.Wm)(u,{to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Back to login form")])),_:1})])}var b={};const V=(0,u.Z)(b,[["render",y],["__scopeId","data-v-6ccdfd67"]]);var W=V;const D=e=>((0,n.dD)("data-v-08c789e8"),e=e(),(0,n.Cn)(),e),T=D((()=>(0,n._)("h2",null,"Add user",-1))),I={class:"btn-container"};function O(e,t,s,r,a,o){const u=(0,n.up)("v-text-field"),l=(0,n.up)("v-btn"),i=(0,n.up)("v-form"),d=(0,n.up)("v-responsive");return(0,n.wg)(),(0,n.j4)(d,{class:"mx-auto","max-width":"350"},{default:(0,n.w5)((()=>[T,(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{modelValue:o.username,"onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),required:"",type:"input",variant:"outlined",placeholder:"Username",hint:"Enter your username"},null,8,["modelValue"]),(0,n.Wm)(u,{modelValue:o.password,"onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),required:"",type:"password",variant:"outlined",placeholder:"Password",hint:"Enter your password"},null,8,["modelValue"]),(0,n._)("div",I,[(0,n.Wm)(l,{onClick:o.backToUsers,rounded:0,variant:"plain"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Back to users ")])),_:1},8,["onClick"]),(0,n.Wm)(l,{onClick:this.ADD_USER,rounded:0},{default:(0,n.w5)((()=>[(0,n.Uk)(" Submit ")])),_:1},8,["onClick"])])])),_:1})])),_:1})}var A={data(){return{}},computed:{username:{get(){return this.$store.state.username},set(e){this.$store.commit("UPDATE_USERNAME",e)}},password:{get(){return this.$store.state.password},set(e){this.$store.commit("UPDATE_PASSWORD",e)}}},methods:{...(0,p.nv)(["ADD_USER"]),backToUsers(){this.$router.push("/userlist")}}};const P=(0,u.Z)(A,[["render",O],["__scopeId","data-v-08c789e8"]]);var C=P;const R=e=>((0,n.dD)("data-v-654ba91c"),e=e(),(0,n.Cn)(),e),$=R((()=>(0,n._)("br",null,null,-1))),N=R((()=>(0,n._)("br",null,null,-1)));function x(e,t,s,r,a,o){const u=(0,n.up)("v-responsive"),l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(u,{"max-width":"344"},{default:(0,n.w5)((()=>[(0,n._)("h2",null,"User "+(0,_.zw)(a.userId),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.userInfo,((e,t)=>((0,n.wg)(),(0,n.iD)("span",{key:e},[$,(0,n.Uk)(" "+(0,_.zw)(t)+" : "+(0,_.zw)(e)+" ",1),N])))),128))])),_:1}),(0,n.Wm)(l)])}var q=s(154),Z={data(){return{userId:this.$route.params.id,userInfo:{}}},mounted(){this.getInfo()},methods:{async getInfo(){const e=this.userId;await q.Z.get(`https://test-assignment.emphasoft.com/api/v1/users/${e}/`,{headers:{Authorization:`Token ${localStorage.getItem("token")}`}}).then((e=>{console.log(e.data),this.userInfo=e.data}))}}};const G=(0,u.Z)(Z,[["render",x],["__scopeId","data-v-654ba91c"]]);var j=G;const z=e=>((0,n.dD)("data-v-6283ae99"),e=e(),(0,n.Cn)(),e),L=z((()=>(0,n._)("h2",null,"Edit User",-1))),B={class:"btn-container"};function M(e,t,s,r,a,o){const u=(0,n.up)("v-text-field"),l=(0,n.up)("v-btn"),i=(0,n.up)("v-form"),d=(0,n.up)("v-responsive");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(d,{"max-width":"350"},{default:(0,n.w5)((()=>[L,(0,n.Wm)(i,{ref:"form",modelValue:e.valid,"onUpdate:modelValue":t[4]||(t[4]=t=>e.valid=t),"lasy-validation":""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{modelValue:a.username,"onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),required:"",type:"input",variant:"outlined",placeholder:"Username",hint:"Enter your username",counter:20,rules:[e=>!!e||"This field is required"]},null,8,["modelValue","rules"]),(0,n.Wm)(u,{modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),required:"",type:"password",variant:"outlined",placeholder:"Password",hint:"Enter your password",counter:20,rules:[e=>!!e||"This field is required"]},null,8,["modelValue","rules"]),(0,n.Wm)(u,{modelValue:a.firstName,"onUpdate:modelValue":t[2]||(t[2]=e=>a.firstName=e),type:"input",variant:"outlined",placeholder:"First Name",hint:"Change your first name",counter:20,rules:[e=>!!e||"This field is required"]},null,8,["modelValue","rules"]),(0,n.Wm)(u,{modelValue:a.lastName,"onUpdate:modelValue":t[3]||(t[3]=e=>a.lastName=e),type:"input",variant:"outlined",placeholder:"Last Name",hint:"Change your last name",counter:20,rules:[e=>!!e||"This field is required"]},null,8,["modelValue","rules"]),(0,n._)("div",B,[(0,n.Wm)(l,{onClick:o.backToUsers,rounded:0,variant:"plain"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Back to users ")])),_:1},8,["onClick"]),(0,n.Wm)(l,{onClick:o.editUser,rounded:0},{default:(0,n.w5)((()=>[(0,n.Uk)(" Apply changes ")])),_:1},8,["onClick"])])])),_:1},8,["modelValue"])])),_:1})])}var F={data(){return{firstName:"",lastName:"",password:"",username:"",is_active:!1,id:this.$route.params.id}},methods:{async editUser(){const e=`https://test-assignment.emphasoft.com/api/v1/users/${this.id}`,t={first_name:this.firstName,last_name:this.lastName,is_active:this.is_active,password:this.password,username:this.username},s={headers:{Authorization:`Token ${localStorage.getItem("token")}`}};await q.Z.put(e,t,s).then((e=>{console.log(e);const t=e.status;200==t&&this.$router.push("/userlist")})).catch((e=>{e&&console.log(e)}))},backToUsers(){this.$router.push("/userlist")}}};const H=(0,u.Z)(F,[["render",M],["__scopeId","data-v-6283ae99"]]);var K=H,X=s(201);const Y=[{path:"/",component:v},{path:"/userlist",component:S},{path:"/userlist/:id",component:j,children:[{path:"",component:K}]},{path:"/adduser",component:C},{path:"/error",component:W}],J=(0,X.p7)({history:(0,X.PO)("/emphasoft_test/"),routes:Y});var Q=J,ee=(0,p.MT)({state:()=>({users:[],loginUsername:"",loginPassword:"",userUrl:"https://test-assignment.emphasoft.com/api/v1/users/",username:"",password:"",is_active:!1}),actions:{GET_USERS({commit:e}){return q.Z.get(this.state.userUrl,{headers:{Authorization:`Token ${localStorage.getItem("token")}`}}).then((t=>{e("SET_USERS_TO_VUEX",t.data)}))},LOGIN_USER(){return q.Z.post("https://test-assignment.emphasoft.com/api/v1/login/",{username:this.state.loginUsername,password:this.state.loginPassword}).then((e=>{const t=e.request.status,s=e.data.token;"200"==t&&(localStorage.setItem("token",s),Q.push("/userlist"))})).catch((e=>{e&&(console.log(e),Q.push("/error"))}))},ADD_USER(){const e={username:this.state.username,password:this.state.password,is_active:this.state.is_active},t={headers:{Authorization:`Token ${localStorage.getItem("token")}`}};return q.Z.post(this.state.userUrl,e,t).then((e=>{const t=e.request.status;"201"==t&&(this.state.username="",this.state.password="",Q.push("/userlist"))})).catch((e=>{e&&Q.push("/error")}))}},mutations:{SET_USERS_TO_VUEX:(e,t)=>{e.users=t},UPDATE_LOGIN_USERNAME:(e,t)=>{e.loginUsername=t},UPDATE_LOGIN_PASSWORD:(e,t)=>{e.loginPassword=t},UPDATE_USERNAME:(e,t)=>{e.username=t},UPDATE_PASSWORD:(e,t)=>{e.password=t}},getters:{USERS(e){return e.users}}}),te=(s(773),s(291)),se=s(9),re=s(300);const ne=(0,te.Rd)({components:se,directives:re});(0,r.ri)(i).use(ee).use(Q).use(ne).mount("#app")}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,r,n,a){if(!r){var o=1/0;for(d=0;d<e.length;d++){r=e[d][0],n=e[d][1],a=e[d][2];for(var u=!0,l=0;l<r.length;l++)(!1&a||o>=a)&&Object.keys(s.O).every((function(e){return s.O[e](r[l])}))?r.splice(l--,1):(u=!1,a<o&&(o=a));if(u){e.splice(d--,1);var i=n();void 0!==i&&(t=i)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,n,a]}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,a,o=r[0],u=r[1],l=r[2],i=0;if(o.some((function(t){return 0!==e[t]}))){for(n in u)s.o(u,n)&&(s.m[n]=u[n]);if(l)var d=l(s)}for(t&&t(r);i<o.length;i++)a=o[i],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(d)},r=self["webpackChunkemphasoft_test"]=self["webpackChunkemphasoft_test"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(129)}));r=s.O(r)})();
//# sourceMappingURL=app.b488dbd0.js.map